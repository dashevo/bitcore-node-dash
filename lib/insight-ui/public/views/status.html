<div data-ng-include src="'views/includes/connection.html'"></div>

<section class="status wrap content">
  <div class="cn">
    <div class="status__block">
      <h2 translate>Application Status</h2>

      <section class="block__sum" data-ng-controller="StatusController" data-ng-init="getSync()">
        <h2 class="title" translate>Sync Status</h2>

        <ul class="block__sum__list">
          <li class="block__sum__li">
            <span class="block__sum__title" translate>Sync Progress</span>
            <span class="block__sum__value" data-ng-show="sync.syncPercentage>0">{{sync.syncPercentage}}% <span translate>Complete</span></span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Current Sync Status</span>
            <span class="block__sum__value">
                <span data-ng-show="!sync.error">{{sync.status}}</span>
                <span data-ng-show="sync.error">{{sync.error}}</span>
              </span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Start Date</span>
            <time  class="block__sum__value" title="{{sync.startTs | date:'medium'}}">
              Oct 28, 2019 10:14:15 AM
            </time>
          </li>

          <li class="block__sum__li" data-ng-show="sync.endTs">
            <span class="block__sum__title" translate>Finish Date</span>
            <time  class="block__sum__value" title="{{sync.startTs | date:'medium'}}">
              {{humanSince(sync.endTs)}}
            </time>
          </li>


          <li class="block__sum__li">
            <span class="block__sum__title" translate>Initial Block Chain Height</span>
            <span class="block__sum__value">{{sync.blockChainHeight}}</span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Sync Type</span>
            <span class="block__sum__value">{{sync.type}}</span>
          </li>
        </ul>
        <br>
        <br>

        <h2 class="title" translate>Last Block</h2>

        <ul class="block__sum__list"
            data-ng-controller="StatusController" data-ng-init="getStatus('LastBlockHash')"
        >
          <li class="block__sum__li">
            <span class="block__sum__title" translate>Last Block Hash (essd)</span>
            <span class="block__sum__value">
                <a href="block/{{lastblockhash}}" class="link-blue">{{ lastblockhash }}</a>
              </span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Current Blockchain Tip (insight)</span>
            <span class="block__sum__value">
                <a href="block/{{syncTipHash}}" class="link-blue">{{syncTipHash}}</a>
              </span>
          </li>
        </ul>
      </section>
    </div>

    <div class="status__block">
      <h2 translate>ESS node information</h2>

      <section class="block__sum">
        <ul class="block__sum__list"  data-ng-controller="StatusController" data-ng-init="getStatus('Info')">
          <li class="block__sum__li">
            <span class="block__sum__title" translate>Version</span>
            <span class="block__sum__value">{{info.version}}</span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Protocol version</span>
            <span class="block__sum__value">{{info.protocolversion}}</span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Blocks</span>
            <span class="block__sum__value">
                <a href="block-index/{{info.blocks}}" class="link-blue">{{info.blocks}}</a>
              </span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Time Offset</span>
            <span class="block__sum__value">{{info.timeoffset}}</span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Connections to other nodes</span>
            <span class="block__sum__value">{{info.connections}}</span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Mining Difficulty</span>
            <span class="block__sum__value">{{info.difficulty}}</span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Network</span>
            <span class="block__sum__value">{{info.network}}</span>
          </li>

          <li class="block__sum__li">
            <span class="block__sum__title" translate>Info Errors</span>
            <span class="block__sum__value">{{info.infoErrors}}</span>
          </li>
        </ul>
      </section>
    </div>
  </div>
</section>