<div data-ng-include src="'views/includes/connection.html'"></div>

<!--<section data-ng-controller="BlocksController" data-ng-init="list()">-->
<!--  <div class="row flex-center-row">-->
<!--    <div class="page-container">-->
<!--      <div class="page-header">-->
<!--        <h1>-->
<!--          <span translate class="medium-title">Blocks</span>-->
<!--        </h1>-->
<!--      </div>-->
<!--      <table class="table table-hover table-striped white-table">-->
<!--        <thead>-->
<!--          <tr>-->
<!--            <th translate>Block#</th>-->
<!--            <th translate>Timestamp</th>-->
<!--            <th class="text-right" translate>Transactions</th>-->
<!--            <th class="text-right" translate>Size(bytes)</th>-->
<!--          </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--        <tr data-ng-show="loading">-->
<!--          <td colspan="5"><span translate>Waiting for blocks...</span> <span class="loader-gif"></span></td>-->
<!--        </tr>-->
<!--        <tr class="fader" data-ng-repeat='b in blocks'>-->
<!--          <td><a href="block/{{b.hash}}">{{b.height}}</a></td>-->
<!--          <td>{{millisToUTCDate(b.time) | date:'medium'}} UTC</td>-->
<!--          <td class="text-right">{{b.txlength}}</td>-->
<!--          <td class="text-right">{{b.size}}</td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--      </table>-->
<!--      <a href="blocks?prev={{pagination.prev}}" class="btn btn-primary text-center btn-more-blocks">PREVIOUS 50</a>-->
<!--    </div>-->
<!--  </div>-->
<!--  <h2 class="text-center text-muted" data-ng-show="!blocks.length && !loading"-->
<!--    translate>No blocks yet.</h2>-->
<!--</section>-->
<div class="search-mini search-mini-right wrap" data-ng-include src="'views/includes/search.html'"></div>

<div data-ng-controller="BlocksController" data-ng-init="list()">
  <section class="table wrap">
    <div class="cn">
      <h2 class="title" translate>Blocks</h2>
      <p class="desc">Total <b>{{ getTotalCount }}</b> blocks found <span  data-ng-if="currentPage === 1">(Showing the last {{length}} records)</span></p>

      <h2 class="desc" data-ng-show="!blocks.length && !loading" translate>No blocks yet.</h2>

      <div class="table__wrap-cn">
        <ul class="table__list">
          <li class="table__li-head">
            <ul class="table__li-head__list blocks">
              <li class="table__head__li" translate>Height</li>
              <li class="table__head__li" translate>Age</li>
              <li class="table__head__li" translate>Transactions</li>
              <li class="table__head__li" translate>Size (bytes)</li>
            </ul>
          </li>

          <li class="table__li"  data-ng-repeat='b in blocks'>
            <header class="table__head">
              <ul class="table__head__list">
                <li class="table__head__li" translate>Height</li>
                <li class="table__head__li" translate>Age</li>
                <li class="table__head__li" translate>Transactions</li>
                <li class="table__head__li" translate>Size (bytes)</li>
              </ul>
            </header>
            <div class="table__content">
              <ul class="table__content__list blocks">
                <li class="table__content__li">
                  <a href="block/{{b.hash}}" class="link-blue">{{b.height}}</a>
                </li>
                <li class="table__content__li">
                  {{millisToUTCDate(b.time) | date:'medium'}} UTC
                </li>
                <li class="table__content__li">
                  {{b.txlength}}
                </li>
                <li class="table__content__li">
                  {{b.size}}
                </li>
              </ul>
            </div>
          </li>
        </ul>

        <div class="pagination">
          <ul class="pagination__list" data-ng-if="pages.length > 1">
            <li>
              <a class="pagination__btn" data-ng-class="{disabled: currentPage == 1}" href="blocks"><<</a>
            </li>
            <li>
              <a class="pagination__btn" data-ng-class="{disabled: currentPage == 1}" href="blocks?prev={{pagination.next}}"><</a>
            </li>
            <li>
              <div class="pagination__btn" data-ng-show="currentPage > innerPageRange + 1">...</div>
            </li>
            <li data-ng-repeat="page in pages">
              <a class="pagination__btn" data-ng-class="{active: currentPage == page.page}" href="blocks?prev={{page.to}}">{{page.page}}</a>
            </li>
            <li>
              <div class="pagination__btn" data-ng-show="currentPage < totalPages - innerPageRange">...</div>
            </li>
            <li>
              <a class="pagination__btn" data-ng-class="{disabled: currentPage == totalPages}" href="blocks?prev={{pagination.prev}}">></a>
            </li>
            <li>
              <a class="pagination__btn" data-ng-class="{disabled: currentPage == totalPages}" href="blocks?prev={{length}}">>></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <div class="spinner" data-ng-show="loading">
    <div class="spin"></div>
    <div class="spinner__text">Loading transactions ...</div>
  </div>
</div>


