<section class="msg-verify wrap" data-ng-controller="SendRawTransactionController">
  <div class="cn">
    <div class="block__bl block__details">
      <h2 class="title" translate>Broadcast Raw Transaction</h2>

      <div class="block__details__bl">
        <header class="info">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 17C11.45 17 11 16.55 11 16V12C11 11.45 11.45 11 12 11C12.55 11 13 11.45 13 12V16C13 16.55 12.55 17 12 17ZM13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8Z" fill="#829BDF"/>
          </svg>
          <span class="info__desc" translate>
            This form can be used to broadcast a raw transaction in hex format over the Essentia network.
          </span>
        </header>
      </div>

      <form name="txForm" role="form" novalidate>
        <label
            class="msg-verify__input-cn"
            data-ng-class="{'active': transaction.length || txForm.rawData.$error.pattern }"
        >
          <span
              class="msg-verify__title"
              translate
          >
            Raw transaction data
          </span>

          <textarea
              class="msg-verify__textarea"
              id="transaction-rawdata"
              name="rawData"
              data-ng-model="transaction"
              data-ng-pattern="/^[0-9A-Fa-f]+$/"
              cols="30"
              rows="10"
              required
          ></textarea>

          <span
              class="msg-verify__error"
              ng-show="txForm.rawData.$error.pattern"
              translate
          >
              Raw transaction data must be a valid hexadecimal string.
          </span>
        </label>

        <button
            type="submit"
            class="btn btn-blue"
            data-ng-click="send()"
            data-ng-disabled="!txForm.$valid"
            translate
        >
          Send transaction
        </button>
      </form>

      <div data-ng-hide="status == 'ready'">
        <div class="spinner margin-top"
             style="margin-top:40px"
             data-ng-show="status == 'loading'"
        >
          <div class="spin"></div>
          <div class="spinner__text" translate>Loading...</div>
        </div>

        <div
            class="block__details__bl"
            data-ng-show="status == 'error'"
        >
          <header class="not" translate>An error occured:<br>{{error}}</header>
        </div>

        <div
            class="block__details__bl"
            data-ng-show="status == 'sent'"
        >
          <header class="success" translate>Transaction succesfully broadcast.<br>Transaction id: {{txid}}</header>
        </div>
      </div>
    </div>
  </div>
</section>